(this.webpackJsonpmaze=this.webpackJsonpmaze||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),s=n(9),r=n.n(s),o=(n(14),n(2)),c=n(3),d=n(5),l=n(4),u=n(0),h=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsx)("header",{children:"\u8ff7\u8def\u30b2\u30fc\u30e0"})}}]),n}(a.a.Component),j=n(6),b=n(8),x=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).start=function(){i.isCounting||(i.incrementer=setInterval((function(){return i.setState({secondsElapsed:i.state.secondsElapsed+.01,flag:1})}),10),i.isCounting=!0)},i.stop=function(){clearInterval(i.incrementer),i.isCounting=!1},i.timerStart=function(e){38===e.keyCode&&0===i.state.flag?i.start():0===i.props.xIndex&&i.stop(),console.log(i.state.secondsElapsed),document.getElementById("showTimer").innerHTML="\u7d50\u679c\u306f"+i.state.secondsElapsed+"\u79d2\u3067\u3059"},i.componentDidMount=function(){document.addEventListener("keydown",i.timerStart)},i.state={flag:0,secondsElapsed:0},i.incrementer=null,i.isCounting=!1,i.timerStart=i.timerStart.bind(Object(j.a)(i)),i}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h5",{children:"\u3008\u3008 Timer \u3009\u3009"}),Object(u.jsx)("div",{id:"showTimer"})]})}}]),n}(a.a.Component),v={height:12},p={width:12,height:12,border:"solid 1px gray",display:"inline-block",boxsizing:"border-box",lineheight:"12px"},O=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.data;return Object(u.jsxs)("div",{className:"Show",children:[Object(u.jsx)(x,{xIndex:this.props.xIndex}),Object(u.jsx)("div",{children:t.map((function(t,n){return Object(u.jsx)("div",{style:v,children:t.map((function(t,i){var a=t;return Object(u.jsx)("button",{className:n===e.props.xIndex&&i===e.props.yIndex?"start":"",style:Object(b.a)(Object(b.a)({},p),{},{backgroundColor:a?"":"black"})},"row:".concat(n,",col:").concat(i))}))},"row:".concat(n))}))})]})}}]),n}(a.a.Component),f=[[0,-1],[1,0],[0,1],[-1,0]],g=function(){function e(t){Object(o.a)(this,e),this.xSize=t,this.ySize=t}return Object(c.a)(e,[{key:"createMaze",value:function(){for(var e=new Array(this.xSize),t=0;t<this.xSize;t++){e[t]=new Array(this.ySize);for(var n=0;n<this.ySize;n++)e[t][n]=!1}return e[this.xSize-2][1]=!0,e}},{key:"judgeEdge",value:function(e,t){for(var n=[0,this.ySize-1,this.xSize-1,0],i=0;i<4;i++)if(i%2===0&&e===n[i]||i%2===1&&t===n[i])return!1;return!0}},{key:"judgeDirections",value:function(e,t,n,i){var a=e+f[n][0],s=t+f[n][1];return!(!1!==i[a][s]||!this.judgeEdge(a,s))}},{key:"getMovableDirections",value:function(e,t,n){for(var i=[],a=0;a<4;a++){for(var s=0,r=0;r<4;r++){var o=(r+2)%4;if(this.judgeDirections(e,t,a,n)){var c=e+f[a][0]+f[o][0],d=t+f[a][1]+f[o][1];n[c][d]||s++}}3===s&&i.push(a)}return i}},{key:"isDigable",value:function(e,t,n){return!(!n[e][t]||0===this.getMovableDirections(e,t,n).length)}},{key:"hasDigableRoads",value:function(e){for(var t=1;t<this.xSize-1;t++)for(var n=1;n<this.ySize-1;n++)if(this.isDigable(t,n,e))return!0;return!1}},{key:"digRoad",value:function(e,t,n,i){var a=[];return a[0]=e+f[n][0],a[1]=t+f[n][1],i[a[0]][a[1]]=!0,a}},{key:"digMaze",value:function(e){for(var t=this.xSize-2,n=1;this.hasDigableRoads(e);){var i=this.getMovableDirections(t,n,e);if(i.length>0){var a=Math.floor(Math.random()*i.length),s=this.digRoad(t,n,i[a],e);s.length>0&&(t=s[0],n=s[1])}else if(0===i.length){var r=this.getRestartPoint(e);0!==r&&(t=r[0],n=r[1])}}return e}},{key:"getRestartPoint",value:function(e){for(var t=[],n=1;n<this.xSize-1;n++)for(var i=1;i<this.ySize-1;i++)if(e[n][i]&&this.getMovableDirections(n,i,e).length>0){var a=[n,i];t.push(a);break}return t.length>0?t[Math.floor(Math.random()*t.length)]:0}},{key:"digGoal",value:function(){for(var e=this.createMaze(),t=this.digMaze(e);!e[1][this.ySize-2];)e=this.createMaze(),t=this.digMaze(e);return t[this.xSize-1][1]=!0,t[0][this.ySize-2]=!0,t}}]),e}(),y=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var i;Object(o.a)(this,n),(i=t.call(this,e)).handleReseteMaze=function(){var e=new g(i.props.size);i.setState({data:e.digGoal(),xIndex:i.props.size-1,yIndex:1})},i.keyDownAction=function(e){var t=[];t=38===e.keyCode&&i.state.xIndex>0?[-1,0]:39===e.keyCode&&i.state.yIndex<i.props.size-1?[0,1]:40===e.keyCode&&i.state.xIndex<i.props.size-1?[1,0]:37===e.keyCode&&i.state.yIndex>0?[0,-1]:[0,0];var n=i.state.xIndex+t[0],a=i.state.yIndex+t[1],s=[];i.state.data[n][a]?s=[n,a]:i.state.data[n][a]||(s=[i.state.xIndex,i.state.yIndex]),i.setState({xIndex:s[0],yIndex:s[1]})},i.componentDidMount=function(){document.addEventListener("keydown",i.keyDownAction)},i.componentWillUnmount=function(){document.removeEventListener("keydown",i.keyDownAction)};var a=new g(i.props.size);return i.xSize=i.props.size,i.ySize=i.props.size,i.state={data:a.digGoal(),xIndex:i.props.size-1,yIndex:1},i.keyDownAction=i.keyDownAction.bind(Object(j.a)(i)),i.handleReseteMaze=i.handleReseteMaze.bind(Object(j.a)(i)),console.log(i.props.mode),i}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"keyboard",children:[Object(u.jsx)("button",{className:"recreatebutton",onClick:this.handleReseteMaze,children:"\u4f5c\u6210"}),Object(u.jsx)(O,{data:this.state.data,size:this.props.size,xIndex:this.state.xIndex,yIndex:this.state.yIndex}),Object(u.jsxs)("h4",{children:["\u30e2\u30fc\u30c9 ",this.props.mode,Object(u.jsx)("br",{}),"\u8ff7\u8def\u30b5\u30a4\u30ba\u306f ",this.props.size," \xd7 ",this.props.size," \u3067\u3059"]})]})}}]),n}(a.a.Component),m=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleSizeChange=function(t){e.setState({size:t.target.value})},e.handleModeChange=function(t){e.setState((function(e){return e.mode=t.target.value,{mode:e.mode}})),console.log("e : "+t.target.value+" mode : "+e.state.mode)},e.state={size:10,mode:1},e.handleSizeChange=e.handleSizeChange.bind(Object(j.a)(e)),e.handleModeChange=e.handleModeChange.bind(Object(j.a)(e)),e}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"\u8ff7\u8def\u30aa\u30d7\u30b7\u30e7\u30f3"}),Object(u.jsxs)("ul",{className:"list",children:[Object(u.jsxs)("li",{children:["\u8ff7\u8def\u30b5\u30a4\u30ba:"," ",Object(u.jsxs)("select",{className:"selectSize",onChange:this.handleSizeChange,children:[Object(u.jsx)("option",{value:"",children:"--\u30b5\u30a4\u30ba\u9078\u629e--"}),Object(u.jsx)("option",{value:"10",children:"10 \xd7 10"}),Object(u.jsx)("option",{value:"20",children:"20 \xd7 20"}),Object(u.jsx)("option",{value:"30",children:"30 \xd7 30"}),Object(u.jsx)("option",{value:"40",children:"40 \xd7 40"}),Object(u.jsx)("option",{value:"50",children:"50 \xd7 50"})]})]}),Object(u.jsxs)("li",{children:["\u30e2\u30fc\u30c9\u9078\u629e:"," ",Object(u.jsxs)("select",{className:"selectMode",onChange:this.handleModeChange,children:[Object(u.jsx)("option",{value:"",children:"--\u30e2\u30fc\u30c9\u3092\u9078\u629e--"}),Object(u.jsx)("option",{value:"1",children:"\u5230\u9054\u30e2\u30fc\u30c9 \u21e8 \u30e2\u30fc\u30c91"}),Object(u.jsx)("option",{value:"2",children:"\u6700\u9577\u30e2\u30fc\u30c9\u3000\u2192\u3000\u30e2\u30fc\u30c92"})]})]})]}),Object(u.jsx)("br",{}),Object(u.jsx)(y,{size:this.state.size,mode:this.state.mode})]})}}]),n}(a.a.Component),z=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"answer",children:Object(u.jsx)("button",{href:"/",children:"\u8ff7\u8def\u306e\u89e3\u7b54"})})}}]),n}(a.a.Component),k=(n(16),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(m,{}),Object(u.jsx)(z,{})]})}}]),n}(a.a.Component)),S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),s(e),r(e)}))};r.a.render(Object(u.jsxs)(a.a.StrictMode,{children:[Object(u.jsx)(h,{}),Object(u.jsx)(k,{})]}),document.getElementById("root")),S()}},[[17,1,2]]]);
//# sourceMappingURL=main.be85204c.chunk.js.map