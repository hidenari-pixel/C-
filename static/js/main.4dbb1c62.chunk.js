(this.webpackJsonpmaze=this.webpackJsonpmaze||[]).push([[0],{71:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var r,i,a,o=n(0),c=n.n(o),s=n(7),u=n.n(s),l=(n(71),n(11)),d=n(12),h=n(2),j=d.a.header(r||(r=Object(l.a)(["\n  border-bottom: solid 1px #ccc;\n  font-size: 1.8rem;\n  color: #000044;\n  background-color: #ccc;\n  padding-bottom: 20px;\n  margin-bottom: 10px;\n"]))),b=function(){return Object(h.jsx)(j,{children:"\u8ff7\u8def\u30b2\u30fc\u30e0"})},f=n(44),v=n.n(f),x=n(118),O=n(10),g=n(32),m=n(33),p=[[0,-1],[1,0],[0,1],[-1,0]],y=function(){function e(t){Object(g.a)(this,e),this.xSize=t,this.ySize=t}return Object(m.a)(e,[{key:"createMaze",value:function(){for(var e=new Array(this.xSize),t=0;t<this.xSize;t++){e[t]=new Array(this.ySize);for(var n=0;n<this.ySize;n++)e[t][n]=!1}return e[this.xSize-2][1]=!0,e}},{key:"judgeEdge",value:function(e,t){for(var n=[0,this.ySize-1,this.xSize-1,0],r=0;r<4;r++)if(r%2===0&&e===n[r]||r%2===1&&t===n[r])return!1;return!0}},{key:"judgeDirections",value:function(e,t,n,r){var i=e+p[n][0],a=t+p[n][1];return!(!1!==r[i][a]||!this.judgeEdge(i,a))}},{key:"getMovableDirections",value:function(e,t,n){for(var r=[],i=0;i<4;i++){for(var a=0,o=0;o<4;o++){var c=(o+2)%4;if(this.judgeDirections(e,t,i,n)){var s=e+p[i][0]+p[c][0],u=t+p[i][1]+p[c][1];n[s][u]||a++}}3===a&&r.push(i)}return r}},{key:"isDigable",value:function(e,t,n){return!(!n[e][t]||0===this.getMovableDirections(e,t,n).length)}},{key:"hasDigableRoads",value:function(e){for(var t=1;t<this.xSize-1;t++)for(var n=1;n<this.ySize-1;n++)if(this.isDigable(t,n,e))return!0;return!1}},{key:"digRoad",value:function(e,t,n,r){var i=[];return i[0]=e+p[n][0],i[1]=t+p[n][1],r[i[0]][i[1]]=!0,i}},{key:"digMaze",value:function(e){for(var t=this.xSize-2,n=1;this.hasDigableRoads(e);){var r=this.getMovableDirections(t,n,e);if(r.length>0){var i=Math.floor(Math.random()*r.length),a=this.digRoad(t,n,r[i],e);a.length>0&&(t=a[0],n=a[1])}else if(0===r.length){var o=this.getRestartPoint(e);0!==o&&(t=o[0],n=o[1])}}return e}},{key:"getRestartPoint",value:function(e){for(var t=[],n=1;n<this.xSize-1;n++)for(var r=1;r<this.ySize-1;r++)if(e[n][r]&&this.getMovableDirections(n,r,e).length>0){var i=[n,r];t.push(i);break}return t.length>0?t[Math.floor(Math.random()*t.length)]:0}},{key:"digGoal",value:function(e){for(var t=[1,this.ySize-2],n=this.createMaze(),r=this.digMaze(n);!n[t[0]][t[1]];)n=this.createMaze(),r=this.digMaze(n);return r[this.xSize-1][1]=!0,1===Number(e)&&(r[0][this.ySize-2]=!0),r}}]),e}(),w=[[0,-1],[1,0],[0,1],[-1,0]],z=function(){function e(t){Object(g.a)(this,e),this.mazeSize=t.length,this.mazeData=t}return Object(m.a)(e,[{key:"getAvailableRoads",value:function(e,t){for(var n=0;n<4;n++){var r=[t[0]+w[n][0],t[1]+w[n][1]];if(e[r[0]][r[1]])return r}return!1}},{key:"hasRoads",value:function(e){for(var t=0;t<this.mazeSize;t++)for(var n=0;n<this.mazeSize;n++)if(e[t][n])return!0;return!1}},{key:"getBranchPoint",value:function(e,t){if(!1===t)return!1;for(var n=0,r=0;r<4;r++){var i=[t[0]+w[r][0],t[1]+w[r][1]];e[i[0]][i[1]]&&n++}return n>1&&t}},{key:"getMeetingTermsRoute",value:function(e,t){for(var n=e[0],r=1;r<e.length;r++)for(var i=0;i<e[r].length;i++)e[r][i]===t&&(n=e[r]);return n}},{key:"getRouteToBranch",value:function(e,t){if(0===t.length)return[e];for(var n=this.getMeetingTermsRoute(t,e),r=n.length-1;r>=0;r--)if(n[r]===e)return n.slice(0,r+1);return[e]}},{key:"getStartPoint",value:function(e,t){for(var n=t.length-1;n>=0;n--)if(!1!==this.getAvailableRoads(e,t[n]))return t[n]}},{key:"getRoutes",value:function(e,t,n,r){for(var i=this.getRouteToBranch(t,n);this.hasRoads(e);){var a=this.getAvailableRoads(e,t),o=this.getBranchPoint(e,t);if(!1!==o&&r.push(o),e[t[0]][t[1]]=!1,!1===a)return 0!==i.length&&n.push(i),t=this.getStartPoint(e,r),this.getRoutes(e,t,n,r);i.push(a),t=a}return n}},{key:"getAnswerRoute",value:function(e){var t=JSON.parse(JSON.stringify(this.mazeData));t[this.mazeSize-1][1]=!1,t[0][this.mazeSize-2]=!1;var n=[this.mazeSize-2,1],r=[0,this.mazeSize-2],i=this.getRoutes(t,n,[],[]);if(1===Number(e))for(var a=0;a<i.length;a++)for(var o=0;o<i[a].length;o++)if(i[a][o][0]===r[0]+1&&i[a][o][1]===r[1]){var c=i[a].slice(0,o+1);return c.push(r),c}if(2===Number(e)){for(var s=i[0],u=1;u<i.length;u++)s.length<i[u].length&&(s=i[u]);return s}}}]),e}(),S=n(46),I=function(e){switch(e){case"ArrowUp":return[-1,0];case"ArrowRight":return[0,1];case"ArrowDown":return[1,0];case"ArrowLeft":return[0,-1];default:return[0,0]}},k=new y(10).digGoal(1),M=new z(k).getAnswerRoute(1),D=function(e){return e.goal[0]===e.xIndex&&e.goal[1]===e.yIndex||!0===e.answerShow?"finish":e.xIndex===e.start[0]&&e.yIndex===e.start[1]?"stop":"start"},A=function(e){return("000"+e).slice(-3)},R={size:10,mode:1,data:k,answerData:M,answerShow:!1,isModalOpen:!0,start:[9,1],goal:[0,8],movable:!1,xIndex:9,yIndex:1,minutes:"000",seconds:"000",milliSeconds:"000",time:0,timer:"stop",intervalID:-1,squareLength:500},C=Object(S.b)({name:"mazeState",initialState:R,reducers:{sizeChange:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{size:t.payload})},modeChange:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{mode:t.payload})},setMaze:function(e){var t,n,r,i=new y(e.size).digGoal(e.mode),a=new z(i).getAnswerRoute(e.mode);return clearInterval(e.intervalID),Object(O.a)(Object(O.a)({},e),{},{data:i,answerData:a,isModalOpen:!1,answerShow:!1,xIndex:e.size-1,yIndex:1,start:[e.size-1,1],goal:(t=e.size,n=e.mode,r=a,2===n?[r.slice(-1)[0][0],r.slice(-1)[0][1]]:[0,t-2]),minutes:"000",seconds:"000",milliSeconds:"000",time:0,timer:"stop",intervalID:-1})},openWindow:function(e,t){return clearInterval(e.intervalID),Object(O.a)(Object(O.a)({},e),{},{isModalOpen:t.payload,timer:D(e)})},closeWindow:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{isModalOpen:t.payload,timer:D(e)})},movePoint:function(e,t){var n=function(e){return(e.xIndex!==e.goal[0]||e.yIndex!==e.goal[1])&&!0!==e.isModalOpen}(e);if(!n)return clearInterval(e.intervalID),Object(O.a)({},e);var r=function(e,t){if(e.xIndex===e.size-1&&"ArrowUp"!==t.key)return[e.xIndex,e.yIndex];var n=[e.xIndex+t.nextX,e.yIndex+t.nextY];return e.data[n[0]][n[1]]?n:[e.xIndex,e.yIndex]}(e,t.payload);return r[0]===e.goal[0]&&r[1]===e.goal[1]?(clearInterval(e.intervalID),Object(O.a)(Object(O.a)({},e),{},{xIndex:r[0],yIndex:r[1],movable:n,intervalID:-1,timer:"finish"})):Object(O.a)(Object(O.a)({},e),{},{xIndex:r[0],yIndex:r[1],movable:n})},showAnswer:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{answerShow:t.payload,isModalOpen:!1})},startTimer:function(e,t){return Object(O.a)(Object(O.a)({},e),{},{intervalID:t.payload,timer:"start"})},updateTimer:function(e){var t=e.time+1,n=parseInt(t/100/60%100,10),r=parseInt(t/100%60,10),i=parseInt(t%100,10);return Object(O.a)(Object(O.a)({},e),{},{minutes:A(n),seconds:A(r),milliSeconds:A(i),time:t})}}}),P=Object(S.a)({reducer:C.reducer}),T=n(14),E=function(){var e=Object(T.c)((function(e){return e})),t=e.size,n=e.mode,r=e.isModalOpen,i=e.timer,a=Object(T.b)();return{size:t,mode:n,isModalOpen:r,timer:i,handleSetMaze:function(){var e=C.actions.setMaze(),t=C.actions.updateTimer(),n=setInterval((function(){return a(t)}),10),r=C.actions.startTimer(n);a(e),a(r)},handleShowAnswer:function(){var e=C.actions.showAnswer(!0);a(e)},closeModalWindow:function(){var e=P.getState().timer,t="stop"===e,n=C.actions.closeWindow(t);if(a(n),"start"===e||"pause"===e){var r=C.actions.updateTimer(),i=setInterval((function(){return a(r)}),10),o=C.actions.startTimer(i);a(o)}},handleModeChange:function(e){var t=C.actions.modeChange(Number(e));a(t)},handleSizeChange:function(e){var t=C.actions.sizeChange(Number(e));a(t)},openModalWindow:function(){var e=C.actions.openWindow(!0);a(e)}}},W=n(121),L=n(119),N=n(120),B=function(){var e=E(),t=e.size,n=e.handleSizeChange;return Object(h.jsxs)("div",{children:[Object(h.jsx)(W.a,{children:"size"}),Object(h.jsxs)(L.a,{onChange:function(e){return n(e.target.value)},value:t,displayEmpty:!0,children:[Object(h.jsx)(N.a,{value:"",disabled:!0,children:Object(h.jsx)("em",{children:"\u30b5\u30a4\u30ba\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})}),Object(h.jsx)(N.a,{value:10,children:"10 \xd7 10"}),Object(h.jsx)(N.a,{value:20,children:"20 \xd7 20"}),Object(h.jsx)(N.a,{value:30,children:"30 \xd7 30"}),Object(h.jsx)(N.a,{value:40,children:"40 \xd7 40"}),Object(h.jsx)(N.a,{value:50,children:"50 \xd7 50"})]})]})},X=function(){var e=E(),t=e.mode,n=e.handleModeChange;return Object(h.jsxs)("div",{children:[Object(h.jsx)(W.a,{children:"mode"}),Object(h.jsxs)(L.a,{onChange:function(e){return n(e.target.value)},value:t,displayEmpty:!0,children:[Object(h.jsx)(N.a,{value:"",disabled:!0,children:Object(h.jsx)("em",{children:"\u30e2\u30fc\u30c9\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})}),Object(h.jsx)(N.a,{value:1,children:"\u5230\u9054\u30e2\u30fc\u30c9"}),Object(h.jsx)(N.a,{value:2,children:"\u6700\u9577\u30e2\u30fc\u30c9"})]})]})},F=function(){var e=E(),t=e.timer,n=e.handleSetMaze,r=e.handleShowAnswer,i=e.closeModalWindow;return"stop"!==t?Object(h.jsxs)(J,{children:[Object(h.jsx)(x.a,{color:"primary",variant:"contained",onClick:function(){return n()},style:{margin:5},children:"\u518d\u751f\u6210\uff06\u30b9\u30bf\u30fc\u30c8"}),Object(h.jsx)(x.a,{color:"primary",variant:"contained",onClick:function(){return r()},style:{margin:5},children:"\u89e3\u7b54"}),Object(h.jsx)(x.a,{color:"primary",variant:"contained",onClick:function(){return i()},style:{margin:5},children:"\u9589\u3058\u308b"})]}):Object(h.jsxs)(x.a,{color:"primary",variant:"contained",onClick:function(){return n()},children:["\u751f\u6210","&","\u30b9\u30bf\u30fc\u30c8"]})},J=d.a.div(i||(i=Object(l.a)(["\n  width: 100%;\n"]))),q={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};v.a.setAppElement("#root");var G,U,Y,H,K,Q,V,Z,$,_,ee,te,ne=function(){var e=E(),t=e.size,n=e.mode,r=e.isModalOpen,i=e.openModalWindow,a=e.closeModalWindow;return Object(h.jsxs)(re,{children:[Object(h.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){return i()},children:"menu"}),Object(h.jsxs)(v.a,{isOpen:r,onRequestClose:function(){return a()},style:q,contentLabel:"EXAMPLE",overlayClassName:"overlay",children:[Object(h.jsx)("h3",{children:"\u8ff7\u8def\u30aa\u30d7\u30b7\u30e7\u30f3"}),Object(h.jsx)("p",{children:" \u8ff7\u8def\u30b5\u30a4\u30ba\u30fb\u30e2\u30fc\u30c9\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044 "}),Object(h.jsx)(B,{}),Object(h.jsx)(X,{}),Object(h.jsx)("br",{}),Object(h.jsxs)("h4",{children:["\u73fe\u5728\u306e\u8ff7\u8def\u30b5\u30a4\u30ba\u306f",t," \xd7 ",t]}),Object(h.jsxs)("h4",{children:[1===n?"\u5230\u9054":"\u6700\u9577"," \u30e2\u30fc\u30c9\u3067\u3059"]}),Object(h.jsx)("br",{}),Object(h.jsx)(F,{})]})]})},re=d.a.div(a||(a=Object(l.a)(["\n  padding-top: 5px;\n"]))),ie=function(){var e=Object(T.c)((function(e){return e}));return{minutes:e.minutes,seconds:e.seconds,milliSeconds:e.milliSeconds}},ae=d.a.div(G||(G=Object(l.a)(["\n  flex-wrap: unwrap;\n"]))),oe=d.a.h5(U||(U=Object(l.a)(["\n  display: inline-block;\n  font-size: 20px;\n  color: #000055;\n  padding-top: 1rem;\n  margin: 5px;\n"]))),ce=function(e){var t=e.minutes,n=e.seconds,r=e.milliSeconds;return Object(h.jsxs)(ae,{children:[Object(h.jsxs)(oe,{children:[t," : "]}),Object(h.jsxs)(oe,{children:[n," : "]}),Object(h.jsx)(oe,{children:r})]})},se=d.a.div(Y||(Y=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n"]))),ue=function(){var e=ie(),t=e.minutes,n=e.seconds,r=e.milliSeconds;return Object(h.jsx)(se,{children:Object(h.jsx)(ce,{minutes:t,seconds:n,milliSeconds:r})})},le=n(61),de=function(){var e=Object(T.c)((function(e){return e})),t=e.size,n=e.data,r=e.answerData,i=e.answerShow,a=e.xIndex,o=e.yIndex,c=e.goal,s=Object(T.b)();return{data:n,size:t,keyDownAction:function(e){var t=function(e){var t=I(e);return{nextX:t[0],nextY:t[1],key:e}}(e),n=C.actions.movePoint(t);s(n)},movePoint:function(e,t){return e===a&&t===o},showAnswer:function(e,t){if(!1===i)return!!function(e,t){return e===c[0]&&t===c[1]}(e,t);for(var n=0;n<r.length;n++)if(r[n][0]===e&&r[n][1]===t)return!0;return!1}}},he=d.a.div(H||(H=Object(l.a)(["\n  position: absolute;\n  top: 160px;\n  left: 50%;\n  transform: translateX(-50%);\n  min-width: 40%;\n  height: ","px;\n"])),(function(e){return e.height})),je=function(){var e=de(),t=e.data,n=e.size,r=e.keyDownAction,i=e.movePoint,a=e.showAnswer,c=Object(o.useRef)(null),s=Object(o.useState)(0),u=Object(le.a)(s,2),l=u[0],d=u[1];Object(o.useEffect)((function(){var e=c.current.clientWidth;return d(e),document.addEventListener("keydown",(function(e){r(e.key)})),function(){document.removeEventListener("keydown",(function(e){r(e.key)}))}}),[]);var j=l/n,b={padding:0,height:j},f={padding:0,width:j,height:j,lineheight:j,border:"none",display:"inline-block",boxsizing:"border-box"};return Object(h.jsx)(he,{ref:c,height:l,children:t.map((function(e,t){return Object(h.jsx)("div",{style:b,children:e.map((function(e,n){var r=e;return Object(h.jsx)("button",{className:i(t,n)?"move":"",style:Object(O.a)(Object(O.a)({},f),{},{backgroundColor:r?a(t,n)?"skyblue":"":"black"})},"row:".concat(t,",col:").concat(n))}))},"row:".concat(t))}))})},be=n(60),fe=n.n(be),ve=function(){var e=Object(T.b)();return{buttonAction:function(t){var n=I(t),r={nextX:n[0],nextY:n[1],key:t},i=C.actions.movePoint(r);e(i)}}},xe=d.a.div(K||(K=Object(l.a)(["\n  height: 100%;\n  display: flex;\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n"]))),Oe=d.a.div(Q||(Q=Object(l.a)(["\n  position: relative;\n  width: 12%;\n  height: 30%;\n  display: flex;\n  justify-content: center;\n  align-self: center;\n"]))),ge=d.a.div(V||(V=Object(l.a)(["\n  border-right: 25px solid transparent;\n  border-bottom: 50px solid #00ecff;\n  border-left: 25px solid transparent;\n"]))),me=Object(d.a)(ge)(Z||(Z=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n"]))),pe=Object(d.a)(ge)($||($=Object(l.a)(["\n  position: absolute;\n  top: 50px;\n  left: 50px;\n  transform: rotate(90deg);\n"]))),ye=Object(d.a)(ge)(_||(_=Object(l.a)(["\n  position: absolute;\n  top: 100px;\n  left: 0px;\n  transform: rotate(180deg);\n"]))),we=Object(d.a)(ge)(ee||(ee=Object(l.a)(["\n  position: absolute;\n  top: 50px;\n  left: -50px;\n  transform: rotate(270deg);\n"]))),ze=function(){var e=ve().buttonAction;return Object(h.jsx)(xe,{children:Object(h.jsx)(fe.a,{query:"(max-width: 1024px)",children:Object(h.jsxs)(Oe,{children:[Object(h.jsx)(me,{onPointerDown:function(){return e("ArrowUp")}}),Object(h.jsx)(pe,{onPointerDown:function(){return e("ArrowRight")}}),Object(h.jsx)(ye,{onPointerDown:function(){return e("ArrowDown")}}),Object(h.jsx)(we,{onPointerDown:function(){return e("ArrowLeft")}})]})})})},Se=(n(87),d.a.div(te||(te=Object(l.a)(["\n  position: relative;\n  text-align: center;\n  height: 100%;\n  width: 100%;\n"])))),Ie=function(){return Object(h.jsxs)(Se,{children:[Object(h.jsx)(b,{}),Object(h.jsx)(ne,{}),Object(h.jsx)(ue,{}),Object(h.jsx)(je,{}),Object(h.jsx)(ze,{})]})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,123)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};u.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(T.a,{store:P,children:Object(h.jsx)(Ie,{})})}),document.getElementById("root")),ke()}},[[88,1,2]]]);
//# sourceMappingURL=main.4dbb1c62.chunk.js.map