(this.webpackJsonpmaze=this.webpackJsonpmaze||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),a=n(9),i=n.n(a),o=(n(14),n(2)),c=n(3),h=n(5),u=n(4),l=n(0),d=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(l.jsx)("header",{children:"\u8ff7\u8def\u30b2\u30fc\u30e0"})}}]),n}(r.a.Component),b=n(6),p=n(8),j={height:12},v={width:12,height:12,border:"solid 1px gray",display:"inline-block",boxsizing:"border-box",lineheight:"12px"},f=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.data,n=this.props.answer;console.log(n);var s=function(t,n){return t===e.props.xIndex&&n===e.props.yIndex},r=function(t,s,r){if(0===r)return!!function(t,n){return t===e.props.goal[0]&&n===e.props.goal[1]}(t,s);for(var a=0;a<n.length;a++)if(n[a][0]===t&&n[a][1]===s)return!0;return!1};return Object(l.jsx)("div",{className:"Show",children:Object(l.jsx)("div",{children:t.map((function(t,n){return Object(l.jsx)("div",{style:j,children:t.map((function(t,a){var i=t;return Object(l.jsx)("button",{className:s(n,a)?"move":"",style:Object(p.a)(Object(p.a)({},v),{},{backgroundColor:i?r(n,a,e.props.answerShow)?"skyblue":"":"black"})},"row:".concat(n,",col:").concat(a))}))},"row:".concat(n))}))})})}}]),n}(r.a.Component),g=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).start=function(){"stop"!==s.state.timer&&(s.timer=setInterval((function(){return s.update()}),1e3),s.setState({timer:"start"}))},s.stop=function(){clearInterval(s.timer),"pause"!==s.state.timer?"stop"!==s.state.timer&&s.setState({timer:"pause"}):s.setState({timer:"start"})},s.reset=function(){s.setState({hours:"00",minutes:"00",seconds:"00",time:0})},s.update=function(){var e=s.state.time+1,t=parseInt(e/60/60,10),n=parseInt(e/60%60,10),r=parseInt(e%60,10);s.setState({hours:s.toText(t),minutes:s.toText(n),seconds:s.toText(r),time:e})},s.toText=function(e){return("00"+e).slice(-2)},s.timerUse=function(){0===s.props.xIndex&&(s.stop(),s.setState({timer:"stop"}))},s.componentDidMount=function(){document.addEventListener("keydown",s.timerUse)},s.componentWillUnmount=function(){document.removeEventListener("keydown",s.timerUse)},s.state={hours:"00",minutes:"00",seconds:"00",time:0,timer:"startingPoint"},s.timerUse=s.timerUse.bind(Object(b.a)(s)),s}return Object(c.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h5",{children:"\u3008\u3008 Timer \u3009\u3009"}),Object(l.jsx)("button",{className:"startbutton",onClick:this.start,children:"START"}),Object(l.jsx)("button",{className:"stopbutton",onClick:this.stop,children:"STOP"}),Object(l.jsx)("button",{className:"resetbutton",onClick:this.handleResetMaze,children:"RESET"}),Object(l.jsx)("div",{id:"showTimer",children:Object(l.jsxs)("h5",{children:[this.state.hours," : ",this.state.minutes," : ",this.state.seconds]})}),Object(l.jsx)(f,{data:this.props.data,answer:this.props.answer,answerShow:this.props.answerShow,size:this.props.size,xIndex:this.props.xIndex,yIndex:this.props.yIndex,timer:this.state.timer,goal:this.props.goal})]})}}]),n}(r.a.Component),x=[[0,-1],[1,0],[0,1],[-1,0]],m=function(){function e(t){Object(o.a)(this,e),this.xSize=t,this.ySize=t}return Object(c.a)(e,[{key:"createMaze",value:function(){for(var e=new Array(this.xSize),t=0;t<this.xSize;t++){e[t]=new Array(this.ySize);for(var n=0;n<this.ySize;n++)e[t][n]=!1}return e[this.xSize-2][1]=!0,e}},{key:"judgeEdge",value:function(e,t){for(var n=[0,this.ySize-1,this.xSize-1,0],s=0;s<4;s++)if(s%2===0&&e===n[s]||s%2===1&&t===n[s])return!1;return!0}},{key:"judgeDirections",value:function(e,t,n,s){var r=e+x[n][0],a=t+x[n][1];return!(!1!==s[r][a]||!this.judgeEdge(r,a))}},{key:"getMovableDirections",value:function(e,t,n){for(var s=[],r=0;r<4;r++){for(var a=0,i=0;i<4;i++){var o=(i+2)%4;if(this.judgeDirections(e,t,r,n)){var c=e+x[r][0]+x[o][0],h=t+x[r][1]+x[o][1];n[c][h]||a++}}3===a&&s.push(r)}return s}},{key:"isDigable",value:function(e,t,n){return!(!n[e][t]||0===this.getMovableDirections(e,t,n).length)}},{key:"hasDigableRoads",value:function(e){for(var t=1;t<this.xSize-1;t++)for(var n=1;n<this.ySize-1;n++)if(this.isDigable(t,n,e))return!0;return!1}},{key:"digRoad",value:function(e,t,n,s){var r=[];return r[0]=e+x[n][0],r[1]=t+x[n][1],s[r[0]][r[1]]=!0,r}},{key:"digMaze",value:function(e){for(var t=this.xSize-2,n=1;this.hasDigableRoads(e);){var s=this.getMovableDirections(t,n,e);if(s.length>0){var r=Math.floor(Math.random()*s.length),a=this.digRoad(t,n,s[r],e);a.length>0&&(t=a[0],n=a[1])}else if(0===s.length){var i=this.getRestartPoint(e);0!==i&&(t=i[0],n=i[1])}}return e}},{key:"getRestartPoint",value:function(e){for(var t=[],n=1;n<this.xSize-1;n++)for(var s=1;s<this.ySize-1;s++)if(e[n][s]&&this.getMovableDirections(n,s,e).length>0){var r=[n,s];t.push(r);break}return t.length>0?t[Math.floor(Math.random()*t.length)]:0}},{key:"digGoal",value:function(e){for(var t=[1,this.ySize-2],n=this.createMaze(),s=this.digMaze(n);!n[t[0]][t[1]];)n=this.createMaze(),s=this.digMaze(n);return s[this.xSize-1][1]=!0,1===Number(e)&&(s[0][this.ySize-2]=!0),s}}]),e}(),O=[[0,-1],[1,0],[0,1],[-1,0]],z=function(){function e(t,n){Object(o.a)(this,e),this.mazeSize=n,this.mazeData=t}return Object(c.a)(e,[{key:"getAvailableRoads",value:function(e,t){for(var n=0;n<4;n++){var s=[t[0]+O[n][0],t[1]+O[n][1]];if(e[s[0]][s[1]])return s}return!1}},{key:"hasRoads",value:function(e){for(var t=0;t<this.mazeSize;t++)for(var n=0;n<this.mazeSize;n++)if(e[t][n])return!0;return!1}},{key:"getBranchPoint",value:function(e,t){if(!1===t)return!1;for(var n=0,s=0;s<4;s++){var r=[t[0]+O[s][0],t[1]+O[s][1]];e[r[0]][r[1]]&&n++}return n>1&&t}},{key:"getMeetingTermsRoute",value:function(e,t){for(var n=e[0],s=1;s<e.length;s++)for(var r=0;r<e[s].length;r++)e[s][r]===t&&(n=e[s]);return n}},{key:"getRouteToBranch",value:function(e,t){if(0===t.length)return[e];for(var n=this.getMeetingTermsRoute(t,e),s=n.length-1;s>=0;s--)if(n[s]===e)return n.slice(0,s+1);return[e]}},{key:"getStartPoint",value:function(e,t){for(var n=t.length-1;n>=0;n--)if(!1!==this.getAvailableRoads(e,t[n]))return t[n]}},{key:"getRoutes",value:function(e,t,n,s){for(var r=this.getRouteToBranch(t,n);this.hasRoads(e);){var a=this.getAvailableRoads(e,t),i=this.getBranchPoint(e,t);if(!1!==i&&s.push(i),e[t[0]][t[1]]=!1,!1===a)return 0!==r.length&&n.push(r),t=this.getStartPoint(e,s),this.getRoutes(e,t,n,s);r.push(a),t=a}return n}},{key:"getAnswerRoute",value:function(e){var t=JSON.parse(JSON.stringify(this.mazeData));t[this.mazeSize-1][1]=!1,t[0][this.mazeSize-2]=!1;var n=[this.mazeSize-2,1],s=[1,this.mazeSize-2],r=this.getRoutes(t,n,[],[]);if(1===Number(e))for(var a=0;a<r.length;a++)for(var i=0;i<r[a].length;i++){if(r[a][i][0]===s[0]&&r[a][i][1]===s[1])return r[a].slice(0,i+1)}if(2===Number(e)){for(var o=r[0],c=1;c<r.length;c++)o.length<r[c].length&&(o=r[c]);return o}}}]),e}(),y=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;Object(o.a)(this,n),(s=t.call(this,e)).handleShowMazeAnswer=function(){1!==s.state.answerShow?s.setState({answerShow:1}):s.setState({answerShow:0})},s.handleResetMaze=function(){var e=new m(s.props.size).digGoal(s.props.mode),t=new z(e,s.props.size).getAnswerRoute(s.props.mode);s.setState({data:e,answer:t,answerShow:0,xIndex:s.props.size-1,yIndex:1,goal:1===Number(s.props.mode)?[0,s.props.size-2]:[t.slice(-1)[0][0],t.slice(-1)[0][1]]})},s.getReset=function(){return 1===s.state.reset||0===s.state.reset?0:void 0},s.keyDownAction=function(e){var t=[];if(1!==s.state.movable){t="ArrowUp"===e.key&&s.state.xIndex>0?[-1,0]:"ArrowRight"===e.key&&s.state.yIndex<s.props.size-1?[0,1]:"ArrowDown"===e.key&&s.state.xIndex<s.props.size-1?[1,0]:"ArrowLeft"===e.key&&s.state.yIndex>0?[0,-1]:[0,0];var n=s.state.xIndex+t[0],r=s.state.yIndex+t[1],a=[];s.state.data[n][r]?a=[n,r]:s.state.data[n][r]||(a=[s.state.xIndex,s.state.yIndex]),s.setState({xIndex:a[0],yIndex:a[1]})}s.state.xIndex===s.state.goal[0]&&s.state.yIndex===s.state.goal[1]&&s.setState({movable:1})},s.componentDidMount=function(){document.addEventListener("keydown",s.keyDownAction)},s.componentWillUnmount=function(){document.removeEventListener("keydown",s.keyDownAction)};var r=new m(s.props.size).digGoal(s.props.mode),a=new z(r,s.props.size).getAnswerRoute(s.props.mode),i=[a.slice(-1)[0][0],a.slice(-1)[0][1]];return s.state={data:r,answer:a,answerShow:0,reset:0,xIndex:s.props.size-1,yIndex:1,movable:0,goal:1===s.props.mode?[0,s.props.size-2]:[i[0],i[1]]},s.handleShowMazeAnswer=s.handleShowMazeAnswer.bind(Object(b.a)(s)),s.handleResetMaze=s.handleResetMaze.bind(Object(b.a)(s)),s.keyDownAction=s.keyDownAction.bind(Object(b.a)(s)),s}return Object(c.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"keyboard",children:[Object(l.jsx)("button",{className:"resetbutton",onClick:this.handleResetMaze,children:"\u4f5c\u6210"}),Object(l.jsx)(g,{data:this.state.data,answer:this.state.answer,answerShow:this.state.answerShow,size:this.props.size,xIndex:this.state.xIndex,yIndex:this.state.yIndex,goal:this.state.goal,reset:this.state.reset}),Object(l.jsxs)("h4",{children:["\u30e2\u30fc\u30c9 ",this.props.mode,Object(l.jsx)("br",{}),"\u8ff7\u8def\u30b5\u30a4\u30ba\u306f ",this.props.size," \xd7 ",this.props.size," \u3067\u3059"]}),Object(l.jsx)("button",{className:"answerbutton",onClick:this.handleShowMazeAnswer,children:"\u8ff7\u8def\u306e\u89e3\u7b54"})]})}}]),n}(r.a.Component),w=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleSizeChange=function(t){e.setState({size:t.target.value})},e.handleModeChange=function(t){e.setState({mode:t.target.value})},e.state={size:10,mode:1},e.handleSizeChange=e.handleSizeChange.bind(Object(b.a)(e)),e.handleModeChange=e.handleModeChange.bind(Object(b.a)(e)),e}return Object(c.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"\u8ff7\u8def\u30aa\u30d7\u30b7\u30e7\u30f3"}),Object(l.jsxs)("ul",{className:"list",children:[Object(l.jsxs)("li",{children:["\u8ff7\u8def\u30b5\u30a4\u30ba:"," ",Object(l.jsxs)("select",{className:"selectSize",onChange:this.handleSizeChange,children:[Object(l.jsx)("option",{value:"",children:"--\u30b5\u30a4\u30ba\u9078\u629e--"}),Object(l.jsx)("option",{value:"10",children:"10 \xd7 10"}),Object(l.jsx)("option",{value:"20",children:"20 \xd7 20"}),Object(l.jsx)("option",{value:"30",children:"30 \xd7 30"}),Object(l.jsx)("option",{value:"40",children:"40 \xd7 40"}),Object(l.jsx)("option",{value:"50",children:"50 \xd7 50"})]})]}),Object(l.jsxs)("li",{children:["\u30e2\u30fc\u30c9\u9078\u629e:"," ",Object(l.jsxs)("select",{className:"selectMode",onChange:this.handleModeChange,children:[Object(l.jsx)("option",{value:"",children:"--\u30e2\u30fc\u30c9\u3092\u9078\u629e--"}),Object(l.jsx)("option",{value:"1",children:"\u5230\u9054\u30e2\u30fc\u30c9 \u21e8 \u30e2\u30fc\u30c91"}),Object(l.jsx)("option",{value:"2",children:"\u6700\u9577\u30e2\u30fc\u30c9\u3000\u2192\u3000\u30e2\u30fc\u30c92"})]})]})]}),Object(l.jsx)("br",{}),Object(l.jsx)(y,{size:this.state.size,mode:this.state.mode})]})}}]),n}(r.a.Component),S=(n(16),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(w,{})})}}]),n}(r.a.Component)),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))};i.a.render(Object(l.jsxs)(r.a.StrictMode,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(S,{})]}),document.getElementById("root")),k()}},[[17,1,2]]]);
//# sourceMappingURL=main.629fd78d.chunk.js.map